<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>チュオン・トゥイ・ハム 514号室の意見箱</title>

<style>
body{
    margin:0;
    background:black;
    color:white;
    font-family: serif;
    text-align:center;
    transition: background 0.5s;
}

.container{
    margin-top:15vh;
}

input{
    padding:10px;
    width:250px;
    background:black;
    border:1px solid red;
    color:white;
    font-size:16px;
}

button{
    padding:10px 15px;
    background:red;
    color:white;
    border:none;
    cursor:pointer;
}

#response{
    margin-top:30px;
    font-size:18px;
    min-height:40px;
    white-space: pre-line;
}

/* ===== ADDED FADE EFFECT ===== */
.fade-out{
    animation: fadeOut 3s forwards;
}

@keyframes fadeOut{
    from{ opacity:1; }
    to{ opacity:0; }
}
</style>
</head>

<body>

<div class="container">
    <h1 id="title">チュオン・トゥイ・ハム 514号室の意見箱</h1>
    <input id="userInput" placeholder="Enter your wish">
    <button id="submitBtn" onclick="reply()">Submit</button>
    <div id="response"></div>
</div>

<script>

// ===== TIME CHECK (00:00 - 01:00 RED MODE) =====
function checkMidnightMode(){
    const now = new Date();
    const hour = now.getHours();

    if(hour === 0){
        document.body.style.color = "red";
        document.getElementById("title").style.color = "red";
        document.getElementById("response").style.color = "red";
        document.getElementById("submitBtn").style.background = "black";
        document.getElementById("submitBtn").style.color = "red";
    }
}

checkMidnightMode();


// ===== FREE BIRD FUNCTION (ADDED) =====
function isFreeBird(text){
    const t = text.toLowerCase().trim();

    return t === "tôi là con chim tự do" ||
           t === "toi la con chim tu do" ||
           t === "i am a free bird" ||
           t === "私は自由な鳥です" ||
           t === "я свободная птица";
}


// ===== 514 MAIN RESPONSES =====
const replies = [
"Your wish will remain here.",
"Your wish will remain here.",
"The price has already begun.",
"Someone else will pay in your place.",
"You have been chosen.",
"There is no way back.",
"514 does not reject you.",
"Those words cannot be taken back.",
"You are being watched.",
"Do you remember?",
"This is not your first time here.",
"Your input has been saved.",
"Is that enough as a sacrifice?",
"Wishes demand blood.",
"Your shadow is smiling.",
"514 is responding.",
"One has already been granted.",
"You just haven't noticed it yet.",
"This room has no exit.",
"Your wish will drain you.",
"Will you continue?",
"It’s your turn next.",
"You didn’t want anyone to hear that, did you?",
"514 knows you.",
"We’ve heard that wish before.",
"Time does not matter. This place is always open.",
"Is that wish truly yours?",
"The moment you typed it, there was no return.",
"Wishes come true. But the price is never equal.",
"What are you willing to lose?",
"Is it salvation, or escape?",
"Room 514 records everything.",
"You already know the answer.",
"You’re late.",
"Still hesitating?",
"Have you forgotten why you came?",
"Silence is also a wish.",
"……Are you serious?",
"Your input has been recorded.",
"514 prefers silence.",
"You actually have another wish, don’t you?",
"The stronger you wish, the more it twists.",
"Do you want to be saved?",
"Can you imagine yourself after it comes true?",
"Can you swear you won’t regret it?",
"This room does not exist.",
"Are you sure you're only looking at a screen?",
"This is not a school.",
"Will that satisfy you?",
"Such light words.",
"Wishes have weight."
];

// ===== MAIN FUNCTION =====
function reply(){

    const inputRaw = document.getElementById("userInput").value.trim();
    const responseDiv = document.getElementById("response");
    const body = document.body;

    if(inputRaw === ""){
        responseDiv.style.color = "white";
        responseDiv.innerText = "……Please enter something.";
        return;
    }

    const lower = inputRaw.toLowerCase();

    // ===== BEAST MODE =====
    const hasBeast = lower.includes("beast");
    const hasDazai = /dazai|osamu/.test(lower);
    const hasOda = /odasaku/.test(lower);

    if(hasBeast && (hasDazai || hasOda)){
        body.style.background = "#9e9e9e";
        body.style.color = "black";
        responseDiv.style.color = "black";
    } else {
        body.style.background = "black";
        body.style.color = "white";
    }

    // ===== DAZAI =====
    if(hasDazai){
        const dazaiQuotes = [
        "自分を憐れむのはやめろ。そうしている限り、君の人生は終わりのない悪夢のままだ。",
      "人生において、成功は失敗よりも難しいものです。そう思いますか？だからこそ、実際に自殺するよりも、自殺を試みるべきです！自殺は難しいですが、自殺を試みて失敗する方が比較的簡単です！" ,
        "僕はいつも失いたくないものを失ってきた。それでも、生きる理由を探し続けるしかない。",
        "死と暴力の近くにいれば人間の本質が見えると思った。そしてそこから生きる理由を見つけられると信じていた。",
        "人間は皆、罪深く愚かだ。だが、それの何が悪い？"
        ];
        responseDiv.innerText = dazaiQuotes[Math.floor(Math.random()*dazaiQuotes.length)];
        return;
    }

    // ===== ODASAKU =====
    if(hasOda){
        const odaQuotes = [
        "俺をオダサクと呼ぶな。敵にそんな理由はない。",
        "この日をずっと待っていた。だが最後に一つだけ心残りがある。君の小説を読めなかったことだ。",
        "良い人間になれ。"
        ];
        responseDiv.innerText = odaQuotes[Math.floor(Math.random()*odaQuotes.length)];
        return;
    }

    // ===== CHUUYA =====
    if(/chuuya|nakahara/.test(lower)){
        const chuuyaQuotes = [
`逞しい若さの血管に
夕焼けと深紅のユリが流れ過ぎた

静かに、輝かしく誇らしく
女が残す最後の笑顔のように

厳粛で、豊かで、悲しく
異様で、温かく、まばゆいばかりに、私の心に残る

ああ、私の心に残る…

風が吹き荒れ、波が轟く
果てしない未来に向かって手を振る`
`人間は自分に頼ることしかできない。
他のことはすべて偶然に任せなさい。
物事はありのままに…',

自分に頼り、自分に頼り、自分に頼り、自分に頼りなさい。
そうして初めて、人は間違いを犯さずに済むのだ。`,
重力は根源的な力。あらゆるものは究極的には破滅へと引き寄せられる。`,
お前の罪の重みで、お前を粉砕する。`,
腐敗を発動できるのはお前だけだ…なぜなら、お前だけが私の信頼する者だからだ。`,
人間であろうとなかろうと…全てを失った今、それが本当に問題なのか？`,
        ];
        responseDiv.innerText = chuuyaQuotes[Math.floor(Math.random()*chuuyaQuotes.length)];
        return;
    }

    // ===== HEIAN =====
    if(/heian|kinh đô heian/.test(lower)){
        const heianQuotes = [
        "mừng bạn trở về",
        "home"
        ];
        responseDiv.innerText = heianQuotes[Math.floor(Math.random()*heianQuotes.length)];
        return;
    }

    // ===== FREE BIRD =====
    if(isFreeBird(inputRaw)){
        responseDiv.style.color = "white";
        responseDiv.innerText = "Kolya ?";

        setTimeout(()=>{
            body.innerHTML = "";
            body.style.background = "black";
            body.style.display = "flex";
            body.style.justifyContent = "center";
            body.style.alignItems = "center";
            body.style.height = "100vh";
            body.style.color = "white";
            body.style.fontSize = "40px";
            body.innerHTML = ":)";
        },3000);

        return;
    }

    responseDiv.innerText =
        replies[Math.floor(Math.random()*replies.length)];
}

</script>

</body>
</html>
